# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é User Stories –∏–∑ Confluence

## –û–±–∑–æ—Ä

–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å User Stories –≤ TFS –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç—Ä–∞–Ω–∏—Ü Confluence. –°–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏—Ç —Å—Ç–∞—Ç—å–∏, –∏–∑–≤–ª–µ–∫–∞–µ—Ç User Stories –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏, –∞ –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ Work Items –≤ TFS —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —Å–≤—è–∑—è–º–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü Confluence** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ User Stories
- ‚úÖ **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä** - –ø–æ–∫–∞–∑ —Ç–æ–≥–æ, —á—Ç–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ
- ‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ User Stories** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ US1, US2, US3 –∏ —Ç.–¥.
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏** - —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º —Ç–∏–∫–µ—Ç–æ–º
- ‚úÖ **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –∂–∏—Ä–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º

## API Endpoints

### 1. –°–æ–∑–¥–∞–Ω–∏–µ User Stories

```http
POST /api/v1/user-stories/create-from-confluence
Content-Type: application/json

{
    "confluence_url": "https://confluence.systtech.ru/pages/viewpage.action?pageId=4049385861",
    "user_confirmation": "–î–∞"  // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
}
```

**–û—Ç–≤–µ—Ç –ø—Ä–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ:**
```json
{
    "success": true,
    "preview": {
        "confluence_url": "https://confluence.systtech.ru/pages/viewpage.action?pageId=4049385861",
        "article_title": "229634 [TDD] [–ß–í] –û—Ü–µ–Ω–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –ø–æ–ª–µ–π –≤ –ß-Web",
        "project": "–°–∏–Ω–µ—Ä–≥–∏—è",
        "parent_ticket": "229634",
        "user_stories_count": 2,
        "user_stories": [
            {
                "title": "US1: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞ –¥–ª—è –ß–∏–∫–∞–≥–æ –í–µ–±",
                "description": "–Ø, –∫–∞–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –¶–û, —Ö–æ—á—É –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã...",
                "acceptance_criteria": [
                    "–î–∞–Ω–æ: –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –¶–û –≥–æ—Ç–æ–≤–∏—Ç —Ñ–∞–π–ª —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏",
                    "–ö–æ–≥–¥–∞: –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ò–¢-–∫–æ–º–∞–Ω–¥—ã –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–∞",
                    "–¢–æ–≥–¥–∞: –°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª—ã –±–µ–∑ –æ—à–∏–±–æ–∫"
                ],
                "us_number": "US1"
            }
        ]
    },
    "needs_confirmation": true
}
```

**–û—Ç–≤–µ—Ç –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è:**
```json
{
    "success": true,
    "created_stories": [
        {
            "id": 123456,
            "title": "US1: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞ –¥–ª—è –ß–∏–∫–∞–≥–æ –í–µ–±",
            "us_number": "US1",
            "url": "https://tfssrv.systtech.ru/tfs/DefaultCollection/Backlog/_workitems/edit/123456"
        }
    ],
    "parent_ticket": "229634",
    "confluence_url": "https://confluence.systtech.ru/pages/viewpage.action?pageId=4049385861"
}
```

### 2. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä

```http
GET /api/v1/user-stories/preview/{confluence_url}
```

### 3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è

```http
POST /api/v1/user-stories/confirm-creation
?confluence_url=https://confluence.systtech.ru/pages/viewpage.action?pageId=4049385861
&user_confirmation=–î–∞
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```http
GET /api/v1/user-stories/health
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö User Stories

### –ü–æ–ª—è TFS

| –ü–æ–ª–µ | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|----------|
| **System.Title** | "US1: [–Ω–∞–∑–≤–∞–Ω–∏–µ]" | –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –Ω–æ–º–µ—Ä–æ–º US |
| **System.Description** | HTML-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ | User Story —Å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ |
| **Microsoft.VSTS.Common.AcceptanceCriteria** | HTML-–∫—Ä–∏—Ç–µ—Ä–∏–∏ | –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ –∏–∑ —Å—Ç–∞—Ç—å–∏ |
| **System.State** | "New" | –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ |
| **System.AssignedTo** | –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å |
| **System.Tags** | "confluence; auto-generated; TCA" | –¢–µ–≥–∏ |
| **System.History** | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ —Å–æ–∑–¥–∞–Ω–∏–∏ | –ò—Å—Ç–æ—Ä–∏—è —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Å—Ç–∞—Ç—å—é |
| **Custom.WikiLink** | URL —Å—Ç–∞—Ç—å–∏ | –°—Å—ã–ª–∫–∞ –Ω–∞ –∏—Å—Ö–æ–¥–Ω—É—é —Å—Ç–∞—Ç—å—é |

### –°–≤—è–∑–∏

- **–†–æ–¥–∏—Ç–µ–ª—å –≤ Backlog** ‚Üí ‚Ññ TFS –∏–∑ —Å—Ç–∞—Ç—å–∏
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–≤—è–∑–∏**: "–°–≤—è–∑–∞–Ω —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º —Ç–∏–∫–µ—Ç–æ–º #[–Ω–æ–º–µ—Ä] –∏–∑ Confluence"

## –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

### 1. –ü–∞—Ä—Å–∏–Ω–≥ Confluence
```
1.1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ pageId –∏–∑ URL
1.2. –ó–∞–ø—Ä–æ—Å –∫ Confluence API
1.3. –ü–∞—Ä—Å–∏–Ω–≥ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–ü—Ä–æ–µ–∫—Ç, ‚Ññ TFS)
1.4. –ü–æ–∏—Å–∫ User Stories (US1, US2, US3...)
1.5. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –ø—Ä–∏—ë–º–∫–∏
```

### 2. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
```
2.1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö US
2.2. –ü–æ–∫–∞–∑ –æ–ø–∏—Å–∞–Ω–∏–π –∏ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤
2.3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–≤—è–∑–µ–π
2.4. –ó–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –≤ TFS
```
3.1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π User Story
3.2. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTML-–æ–ø–∏—Å–∞–Ω–∏–π
3.3. –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–µ–π —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º —Ç–∏–∫–µ—Ç–æ–º
3.4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ —Å—Å—ã–ª–æ–∫
3.5. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Python (requests)

```python
import requests

# 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
response = requests.post(
    "http://127.0.0.1:8000/api/v1/user-stories/create-from-confluence",
    json={"confluence_url": "https://confluence.systtech.ru/pages/viewpage.action?pageId=4049385861"}
)

preview = response.json()
print(f"–ù–∞–π–¥–µ–Ω–æ User Stories: {preview['preview']['user_stories_count']}")

# 2. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è
if input("–°–æ–∑–¥–∞—Ç—å? (–î–∞/–ù–µ—Ç): ") == "–î–∞":
    confirm_response = requests.post(
        "http://127.0.0.1:8000/api/v1/user-stories/confirm-creation",
        params={
            "confluence_url": "https://confluence.systtech.ru/pages/viewpage.action?pageId=4049385861",
            "user_confirmation": "–î–∞"
        }
    )
    
    result = confirm_response.json()
    for story in result["created_stories"]:
        print(f"–°–æ–∑–¥–∞–Ω–∞: {story['title']} (ID: {story['id']})")
```

### cURL

```bash
# –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
curl -X POST "http://127.0.0.1:8000/api/v1/user-stories/create-from-confluence" \
  -H "Content-Type: application/json" \
  -d '{"confluence_url": "https://confluence.systtech.ru/pages/viewpage.action?pageId=4049385861"}'

# –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è
curl -X POST "http://127.0.0.1:8000/api/v1/user-stories/confirm-creation" \
  -d "confluence_url=https://confluence.systtech.ru/pages/viewpage.action?pageId=4049385861" \
  -d "user_confirmation=–î–∞"
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

| –û—à–∏–±–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|---------|
| "–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–≤–ª–µ—á—å pageId" | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç URL Confluence |
| "–í —Å—Ç–∞—Ç—å–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã User Stories" | –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç US –≤ —Å—Ç–∞—Ç—å–µ | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç–∞—Ç—å–∏ |
| "–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Ç–∏–∫–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω" | ‚Ññ TFS –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–º–µ—Ä —Ç–∏–∫–µ—Ç–∞ |
| "–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ User Story" | –ü—Ä–æ–±–ª–µ–º—ã —Å TFS API | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ |

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:

```
2024-12-23 15:30:15 | INFO | User Story Creator | create_user_stories:123 | 
‚úÖ User Stories —Å–æ–∑–¥–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ:
   üìÑ –°—Ç–∞—Ç—å—è: https://confluence.systtech.ru/pages/viewpage.action?pageId=4049385861
   üîó –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Ç–∏–∫–µ—Ç: #229634
   üìä –°–æ–∑–¥–∞–Ω–æ User Stories: 2
   
   üìã US1: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞ –¥–ª—è –ß–∏–∫–∞–≥–æ –í–µ–±
      üÜî ID: 123456
      üîó –°–≤—è–∑–∞–Ω —Å: #229634 (–†–æ–¥–∏—Ç–µ–ª—å –≤ Backlog)
      üîó URL: https://tfssrv.systtech.ru/tfs/DefaultCollection/Backlog/_workitems/edit/123456
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å—Ç–∞—Ç—å—è–º Confluence

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

1. **–¢–∞–±–ª–∏—Ü–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö** —Å –ø–æ–ª—è–º–∏:
   - –ü—Ä–æ–µ–∫—Ç
   - ‚Ññ TFS

2. **–°–µ–∫—Ü–∏—è User Stories** —Å:
   - US1, US2, US3 –∏ —Ç.–¥.
   - –¢–µ–∫—Å—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–Ø, –∫–∞–∫... —Ö–æ—á—É... —á—Ç–æ–±—ã..."
   - –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ "–î–∞–Ω–æ/–ö–æ–≥–¥–∞/–¢–æ–≥–¥–∞"

### –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—Ç–∞—Ç—å–∏

```markdown
| –ü—Ä–æ–µ–∫—Ç | –°–∏–Ω–µ—Ä–≥–∏—è |
| ‚Ññ TFS | 229634 |
| ... | ... |

## User Stories –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

| –ù–∞–∑–≤–∞–Ω–∏–µ US | User Story | –î–∞–Ω–æ | –ö–æ–≥–¥–∞ | –¢–æ–≥–¥–∞ |
|-------------|------------|------|-------|-------|
| US1–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞ | –Ø, –∫–∞–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –¶–û, —Ö–æ—á—É –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã... | –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –¶–û –≥–æ—Ç–æ–≤–∏—Ç —Ñ–∞–π–ª... | –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ò–¢-–∫–æ–º–∞–Ω–¥—ã –∑–∞–ø–æ–ª–Ω—è–µ—Ç... | –°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª—ã... |
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# Confluence
CONFLUENCE_URL=https://confluence.systtech.ru
CONFLUENCE_USER=your-email@company.com
CONFLUENCE_TOKEN=your_token

# TFS
TFS_URL=https://tfssrv.systtech.ru/tfs/DefaultCollection
TFS_PAT_TOKEN=your_pat_token
TFS_PROJECT=Backlog
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–µ User Stories, –∏–∑–º–µ–Ω–∏–≤ –º–µ—Ç–æ–¥ `_create_single_user_story` –≤ `UserStoryCreatorService`.

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```bash
curl http://127.0.0.1:8000/api/v1/user-stories/health
```

### –õ–æ–≥–∏

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª `logs/app.log` —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.

### –û—Ç–ª–∞–¥–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ Confluence –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `_parse_confluence_page` –Ω–∞–ø—Ä—è–º—É—é:

```python
from app.services.user_story_creator_service import user_story_creator_service

page_data = await user_story_creator_service._parse_confluence_page(confluence_url)
print(f"–ù–∞–π–¥–µ–Ω–æ User Stories: {len(page_data.user_stories)}")
```
