# Развертывание "Транзитные заказы"

## Обзор

Система "Транзитные заказы" развертывается с использованием сервисов репликации Replication.Shuttle и обновления мобильного терминала.

## Системные требования (из TFS)

### Версии компонентов
- **Мобильный терминал**: Версия 5.2.16
- **Chicago DB**: Версия 3.6.201.4
- **Replication.Shuttle**: Версия 3.6.205.4

## Реализованные компоненты (из TFS)

### 1. Модификация конструктора форм (component-libs)

**Что сделано** (из Backlog Item 229881):
- Создание обработчика для правил в компоненте
- Добавление обработчика для типа

### 2. Создание библиотеки (shared-libs) для конструктора форм

**Что сделано** (из Backlog Item 229881):
- Создание фабрики правил (FormRulesFactory)
- Сервис по работе с правилами (FormRulesService)
- Модель представления зависимых полей (TreeToConstructorAdapter)

### 3. Настройка репликации

**Конфигурация** (из Backlog Item 229881):
- Настройка репликации справочника `nsf.refTransitOrdersExtendedAttributes` из Chicago в МТ
- Создание таблицы `nsfrefTransitOrdersExtendedAttributes` в локальной базе МТ

## Интеграция с 1С (из TFS)

### Передача параметров

**Параметры** (из основного запроса 221894):
- Тип лицензии (оптовая/розничная)
- Выбранный магазин (для розничных магазинов)
- Префикс заказа
- Признак "Это розница" (для розничной лицензии ЛД)
- Дата отгрузки (минус один день от даты отгрузки товара клиенту)

## Обработка ошибок (из TFS)

### Исправленные проблемы

**Ошибка 231484** - Лишняя строка с нулями:
- Добавлена фильтрация в выгрузку ХП для исключения нулевых значений