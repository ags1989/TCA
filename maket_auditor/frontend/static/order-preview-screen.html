<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Просмотр заказа - МТ 5</title>
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/components.css">
    <style>
        .order-preview-screen {
            position: absolute;
            inset: 0;
            background-color: var(--mt-gray-lightest);
            overflow: hidden;
        }

        .order-preview-header {
            position: absolute;
            top: var(--status-bar-height);
            left: 0;
            right: 0;
            height: var(--header-height);
            background-color: var(--mt-gray-light);
            border-bottom: 2px solid var(--mt-gray-light);
            z-index: var(--z-sticky);
        }

        .order-preview-header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 100%;
            padding: 8px 6px;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .back-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 34px;
            height: 34px;
            border-radius: 34px;
            background: none;
            border: none;
            cursor: pointer;
            transition: var(--transition-colors);
        }

        .back-btn:hover {
            background-color: var(--mt-gray-light);
        }

        .back-btn img {
            width: 20px;
            height: 20px;
        }

        .order-preview-title {
            font-size: 20px;
            font-weight: 500;
            color: var(--mt-gray-darker);
            margin: 0;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 0 6px 0 0;
        }

        .print-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            background: none;
            border: none;
            cursor: pointer;
            transition: var(--transition-colors);
        }

        .print-btn:hover {
            background-color: var(--mt-gray-light);
            border-radius: var(--radius-sm);
        }

        .print-btn img {
            width: 20px;
            height: 20px;
        }

        .order-preview-content {
            position: absolute;
            top: calc(var(--status-bar-height) + var(--header-height));
            left: 0;
            right: 0;
            bottom: 0;
            overflow-y: auto;
            background-color: var(--mt-gray-lightest);
        }

        .order-info-section {
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .order-info-icon {
            width: 20px;
            height: 20px;
            color: var(--mt-gray-darker);
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .order-info-text {
            font-size: 14px;
            color: var(--mt-gray-darker);
        }

        .create-order-btn {
            margin: 0 16px 8px;
            padding: 6px 12px;
            background: var(--mt-white);
            color: var(--mt-primary);
            border: 2px solid var(--mt-white);
            border-radius: 28px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0px 0px 4px 0px rgba(255, 255, 255, 0.3);
            transition: var(--transition-colors);
        }

        .create-order-btn:hover {
            background: var(--mt-gray-lightest);
            color: var(--mt-primary-dark);
        }

        .section-header {
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 16px;
            cursor: pointer;
            transition: background-color var(--transition-fast);
        }

        .section-header:hover {
            background: var(--mt-gray-light);
        }

        .section-header-icon {
            width: 20px;
            height: 20px;
            color: var(--mt-gray-darker);
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform var(--transition-fast);
        }

        .section-header-icon.expanded {
            transform: rotate(180deg);
        }

        .section-header-text {
            font-size: 16px;
            font-weight: 400;
            color: var(--mt-gray-darker);
        }

        .section-content {
            padding: 8px 16px 16px;
            border-bottom: 1px solid var(--mt-gray-light);
        }

        .info-row {
            display: flex;
            margin-bottom: 16px;
        }

        .info-row:last-child {
            margin-bottom: 0;
        }

        .info-label {
            width: 155px;
            font-size: 14px;
            color: var(--mt-gray-darker);
            flex-shrink: 0;
        }

        .info-value {
            font-size: 14px;
            color: var(--mt-gray-darker);
            flex: 1;
        }

        .attributes-label {
            width: 200px;
            font-size: 14px;
            color: var(--mt-gray-darker);
            flex-shrink: 0;
        }

        .table-container {
            margin: 16px 16px 0 16px;
        }

        .table-header {
            display: flex;
            background: var(--mt-white);
            border: 1px solid var(--mt-gray-light);
        }

        .table-cell {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 8px;
            height: 44px;
            border-right: 1px solid var(--mt-gray-light);
            font-size: 12px;
            color: var(--mt-gray-darker);
            background: var(--mt-white);
        }

        .table-cell:last-child {
            border-right: none;
        }

        .table-cell--quantity {
            width: 56px;
        }

        .table-cell--price {
            width: 76px;
        }

        .table-cell--vat {
            width: 63px;
        }

        .table-cell--sum {
            width: 73px;
        }

        .table-cell--weight {
            width: 58px;
        }

        .table-cell--last-shipment {
            width: 87px;
        }

        .group-header {
            padding: 8px 16px;
            font-size: 14px;
            color: var(--mt-gray-darker);
            background: var(--mt-gray-lightest);
        }

        .product-row {
            display: flex;
            background: linear-gradient(90deg, rgba(228, 228, 228, 1) 85%, rgba(255, 255, 255, 1) 100%);
            padding: 8px 16px;
        }

        .product-name {
            font-size: 14px;
            color: var(--mt-gray-darker);
        }

        .product-details {
            display: flex;
            border: 1px solid var(--mt-gray-light);
        }

        .product-details .table-cell {
            background: var(--mt-gray-light);
            border-right: 1px solid var(--mt-gray-light);
        }

        .product-details .table-cell:last-child {
            border-right: none;
        }

        .total-row {
            display: flex;
            background: var(--mt-gray-light);
            border: 1px solid var(--mt-gray-light);
        }

        .total-row .table-cell {
            background: var(--mt-gray-light);
            border-right: 1px solid var(--mt-gray-light);
        }

        .total-row .table-cell:last-child {
            border-right: none;
        }

        .bottom-button-container {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 24px 16px;
            background: var(--mt-primary);
            border-top: 1px solid var(--mt-gray-light);
        }

        .bottom-create-order-btn {
            width: 100%;
            padding: 6px 12px;
            background: var(--mt-white);
            color: var(--mt-primary);
            border: 2px solid var(--mt-white);
            border-radius: 28px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0px 0px 4px 0px rgba(255, 255, 255, 0.3);
            transition: var(--transition-colors);
        }

        .bottom-create-order-btn:hover {
            background: var(--mt-gray-lightest);
            color: var(--mt-primary-dark);
        }
    </style>
</head>
<body>
    <div class="app-frame">
        <div class="device">
            <div class="screen">
                <div class="order-preview-screen">
                    <!-- Status Bar -->
                    <div class="status-bar">
                        <div class="status-bar-content">
                            <div class="status-indicators">
                                <div class="wifi-icon"></div>
                                <div class="reception-icon"></div>
                                <div class="battery-icon"></div>
                            </div>
                            <div class="time">12:30</div>
                        </div>
                    </div>

                    <!-- Header -->
                    <div class="order-preview-header">
                        <div class="order-preview-header-content">
                            <div class="header-left">
                                <button class="back-btn" onclick="goBack()">
                                    <img src="images/arrow_down_icon.svg" alt="Назад">
                                </button>
                                <h1 class="order-preview-title">Просмотр заказа</h1>
                            </div>
                            <div class="header-right">
                                <button class="print-btn" onclick="printOrder()">
                                    <img src="images/printer_icon.svg" alt="Печать">
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Content -->
                    <div class="order-preview-content">
                        <!-- Информация о заказе -->
                        <div class="order-info-section">
                            <div class="order-info-icon">📄</div>
                            <span class="order-info-text">Заказ от 21.08.2019</span>
                        </div>

                        <!-- Кнопка создания заказа -->
                        <button class="create-order-btn" onclick="createOrder()">
                            Создать заказ на основе данного
                        </button>

                        <!-- Реквизиты секция -->
                        <div class="section-header" onclick="toggleSection('requisites')">
                            <div class="section-header-icon" id="requisitesIcon">▲</div>
                            <span class="section-header-text">Реквизиты</span>
                        </div>

                        <div class="section-content" id="requisitesContent">
                            <div class="info-row">
                                <span class="info-label">Стадия обмена</span>
                                <span class="info-value">Обработан</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Торговая точка</span>
                                <span class="info-value">Гиппо 2</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Адрес</span>
                                <span class="info-value">—</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Владелец</span>
                                <span class="info-value">Владелец Фокстрот 1</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Контрагент</span>
                                <span class="info-value">—</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Ответственный</span>
                                <span class="info-value">10001 (Иван Иваницкий)</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Дистрибьютор</span>
                                <span class="info-value">Фудгуд</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Поставщик</span>
                                <span class="info-value">—</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Дата доставки</span>
                                <span class="info-value">28.11.2024</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Склад</span>
                                <span class="info-value">Склад Фокстрот 1</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Тип оплаты</span>
                                <span class="info-value">Оплата при отгрузке</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Тип цены</span>
                                <span class="info-value">—</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Розницы</span>
                                <span class="info-value">Нет</span>
                            </div>
                        </div>

                        <!-- Атрибуты секция -->
                        <div class="section-header" onclick="toggleSection('attributes')">
                            <div class="section-header-icon" id="attributesIcon">▲</div>
                            <span class="section-header-text">Атрибуты</span>
                        </div>

                        <div class="section-content" id="attributesContent">
                            <div class="info-row">
                                <span class="attributes-label">Заказ под акцию</span>
                                <span class="info-value">—</span>
                            </div>
                            <div class="info-row">
                                <span class="attributes-label">Инкассация</span>
                                <span class="info-value">НЕТ</span>
                            </div>
                            <div class="info-row">
                                <span class="attributes-label">Счет-фактура</span>
                                <span class="info-value">ДА</span>
                            </div>
                        </div>

                        <!-- Таблица товаров -->
                        <div class="table-container">
                            <!-- Заголовок таблицы -->
                            <div class="table-header">
                                <div class="table-cell table-cell--quantity">Кол-во</div>
                                <div class="table-cell table-cell--price">Цена (Р)</div>
                                <div class="table-cell table-cell--vat">НДС</div>
                                <div class="table-cell table-cell--sum">Сумма (Р)</div>
                                <div class="table-cell table-cell--weight">Вес (кг)</div>
                                <div class="table-cell table-cell--last-shipment">Последняя отгрузка</div>
                            </div>

                            <!-- Группа: Акционные -->
                            <div class="group-header">Группа: Акционные</div>

                            <!-- Кофе Эспрессо -->
                            <div class="product-row">
                                <div class="product-name">Кофе Эспрессо 200 г</div>
                            </div>
                            <div class="product-details">
                                <div class="table-cell table-cell--quantity">5 шт</div>
                                <div class="table-cell table-cell--price">220,50</div>
                                <div class="table-cell table-cell--vat">0,00%</div>
                                <div class="table-cell table-cell--sum">1102,50</div>
                                <div class="table-cell table-cell--weight">1,000</div>
                                <div class="table-cell table-cell--last-shipment">—</div>
                            </div>

                            <!-- Сливки сухие -->
                            <div class="product-row">
                                <div class="product-name">Сливки сухие Extra 1 кг</div>
                            </div>
                            <div class="product-details">
                                <div class="table-cell table-cell--quantity">5 шт</div>
                                <div class="table-cell table-cell--price">199,00</div>
                                <div class="table-cell table-cell--vat">0,00%</div>
                                <div class="table-cell table-cell--sum">995,00</div>
                                <div class="table-cell table-cell--weight">5,000</div>
                                <div class="table-cell table-cell--last-shipment">—</div>
                            </div>

                            <!-- Итого -->
                            <div class="total-row">
                                <div class="table-cell table-cell--quantity">10 шт</div>
                                <div class="table-cell table-cell--price"></div>
                                <div class="table-cell table-cell--vat">0,00%</div>
                                <div class="table-cell table-cell--sum">2 097,50</div>
                                <div class="table-cell table-cell--weight">6,000</div>
                                <div class="table-cell table-cell--last-shipment">—</div>
                            </div>

                            <!-- Группа: Чай -->
                            <div class="group-header">Группа: Чай</div>

                            <!-- Чай листовой -->
                            <div class="product-row">
                                <div class="product-name">Чай листовой Индия 100 г</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Нижняя кнопка -->
                    <div class="bottom-button-container">
                        <button class="bottom-create-order-btn" onclick="createOrderFromAuditor()">
                            Создать заказ на основе заказа аудитора
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function goBack() {
            // Навигация назад к журналу
            window.location.href = 'journal-screen.html';
        }
        
        function printOrder() {
            // Печать заказа
            alert('Печать заказа');
        }
        
        function createOrder() {
            // Создание заказа на основе данного
            alert('Создание заказа на основе данного');
        }
        
        function createOrderFromAuditor() {
            // Создание заказа на основе заказа аудитора
            alert('Создание заказа на основе заказа аудитора');
        }
        
        function toggleSection(sectionName) {
            const icon = document.getElementById(sectionName + 'Icon');
            const content = document.getElementById(sectionName + 'Content');
            const isExpanded = icon.classList.contains('expanded');
            
            if (isExpanded) {
                icon.classList.remove('expanded');
                content.style.display = 'none';
            } else {
                icon.classList.add('expanded');
                content.style.display = 'block';
            }
        }
        
        // Инициализация - скрыть секции по умолчанию
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('requisitesContent').style.display = 'none';
            document.getElementById('attributesContent').style.display = 'none';
        });
    </script>
</body>
</html>
